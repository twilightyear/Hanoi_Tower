
<img width="482" alt="image" src="https://github.com/twilightyear/Hanoi_Tower/assets/80385994/f5c411c7-f262-4c8c-b3ce-6598c15d1400">


먼저 Macbook 에서는
#include <std_lib_facilities.h> 이렇게 사용할 시 사용이 어렵다. 그렇기에
직접적인 루트 명시로 해당 헤더파일의 사용을 가능하게 했다.



일단 메인 함수부터 보자.

![image](https://github.com/twilightyear/Hanoi_Tower/assets/80385994/95c32e1e-367c-4530-8a63-5bbe69474d72)










































메인함수에서는 간단하게 turn_count를 1로 초기화한다. 이는 루프 반복마다 증가한다. 그리고 하노이 벡터등과 같은 여러 값들을 선언 및 정의를 했다. 이후에 초기화 함수를 호출하여 준비를 완료하고 메인 루프에 들어간다. 먼저 하노이탑이 완성되었는지 검토하는 함수를 통하여 상태를 확인하고 타워 상태를 출력하고, 사용자 입력을 받기 전 인터페이스를 출력하게한다.
그리고 사용자 입력을 받은 다음 입력받은 움직임이 실제로 유효하게 가능한지 확인한 다음 가능하면 움직이고 불가능하면 불가능하다고 출력하는 기능을 추가했다. 이 메인함수에서 많은 값들을 사전에 조정 가능하게 해놨는데 이 것을 통하여 처음 게임을 시작할 때 원하는 하노이 탑 디스크의 개수 입력받고 반영해서 게임을 가능하게 설정했다.












![image](https://github.com/twilightyear/Hanoi_Tower/assets/80385994/b4d3406d-68cc-4512-bb3f-5bbe9fb227f8)




다음은 하노이의 탑을 출력하는 함수이다.
아주 간단하다. 하노이 벡터를 받은 다음 중첩 for문으로 원하는 양식에 맞게 모든 항목을 출력하는 방식을 채택했다.


















![image](https://github.com/twilightyear/Hanoi_Tower/assets/80385994/f4eca7ff-9295-4270-bce0-efbe3e41cae8)


다음은 하노이의 탑이 완성되었는지 확인하는 함수이다. 먼저 하노이 탑 벡터와 디스크 개수, 탑의 개수를 인자로 받는다.
그리고 2개의 for문을 통하여 마지막 타워에 디스크가 있고 올바른 순서로 쌓여있는지 확인하는 부분과, 나머지 타워가 비어있는지 확인하는 부분 이렇게 구성을 하였다. 만약 if문에서 걸리게 되면 1을 리턴하고 안걸리게되면 0을 리턴하는 것으로 구성을 하였다.




























![image](https://github.com/twilightyear/Hanoi_Tower/assets/80385994/843e821e-d275-4452-8da7-b31058b201cb)



다음은 인터페이스를 출력하는 함수이다.
메인함수에서 직접적인 입력을 받기 전에 이 프로그램은 시작할때 원하는 디스크 개수를 설정한다는 특징에 있어서 입력받은 디스크 개수에 맞게 인터페이스가 바뀌게 설정을 했다.
따로 특별한 논리가 들어간 것은 아니고 for문을 사용하여 디스크 개수만큼 출력을 하여 설정및 입력을 가능하게 하였다.












![image](https://github.com/twilightyear/Hanoi_Tower/assets/80385994/c3d02a3c-f9d5-40b5-b82a-b220217b5256)


실질적 움직임을 하는 함수이다.
먼저 하노이 벡터와 사용자 입력을 받은 어느 탑에서 어느 탑으로 옮길건지에 대한 값을 인자로 받는다.
유효성을 검증하는 함수에서 확인을 받은 후 실질적으로 움직일 디스크가 존재하는 탑의 마지막 값을 삭제한다.
이후에 옮길 탑의 가장 마지막 부분에 변수가 저장된 값을 추가하는 것으로 이동을 완료한다.











![image](https://github.com/twilightyear/Hanoi_Tower/assets/80385994/c73d992a-ed4e-4d48-b97f-911c6faa4de4)


초기화를 하는 함수이다. 전역변수를 사용하지 않았기 때문에 모든 초기화 설정들이 들어있는것이 아니지만 그래도 하노이 탑의 가장 첫번째 탑에 사용자가 원하는 디스크의 개수를 순차적으로 넣는 것으로 어떻게 무엇이든 하기 전에 이 함수를 통하여 하노이의 탑의 초기 설정을 원활하게 해준다.

































![image](https://github.com/twilightyear/Hanoi_Tower/assets/80385994/1b3fedeb-8270-4516-91e6-fa5dfde896f8)



움직임이 가능한지 확인하는 함수이다. 사용자가 원하는 입력을 받은 후 움직이기 전에 그것이 유효한 움직임인지 검증하는 단계이다. 먼저 하노이 벡터와 사용자가 어디서 어디로 옮길건지에 대한 값과 타워의 개수를 인자로 받았다. 먼저 주어진 타워의 값들을 사용하기 용이하게 인덱스화를 시킨후 사용할 타워들의 인덱스가 타워 개수의 범위 안의 정수인지 확인을 진행하였다. 그 후 움직일 타워의 크기를 확인하고 타겟 타워의 크기도 확인하였다. 만약 움직일 타워의 크기가 1 이상이며 타겟 타워가 비어있거나 가장 위의 디스크가 현재 타워의 가장 위의 디스크보다 큰 경우에만 1을 리턴하고 나머지 모든 경우들에게는 0을 리턴하여 유효성을 반환하였다.











그리고 추가적인 기능을 말하자면 앞서 말했듯 디스크의 개수를 조정할 수 있다는 것에 있다. 







































![image](https://github.com/twilightyear/Hanoi_Tower/assets/80385994/fc6749e7-d68a-423f-afc8-0187edf67f1a)



다음은 기본적인 작동이다. 잘 작동하는 것을 볼 수 있다.


![image](https://github.com/twilightyear/Hanoi_Tower/assets/80385994/4e7eddc6-bc2f-4d28-bcee-82f26b5aaeb3)


Y를 눌러 다시 실행을 하고 유효하지 않은 움직임을 시도하면
Move failed!
를 출력하며 움직임이 없는 것을 볼 수 있다.


그리고 메인코드 설명할때도 이야기 했듯 하노이탑이 완성되었는지의 확인 여부는 루프 가장 첫번째로 확인 함수를 통하여 검토를 진행한다. 그 부분의 대한 설명은 앞서 했기에 생략하도록 하겠다.






![image](https://github.com/twilightyear/Hanoi_Tower/assets/80385994/b49352b0-1260-4509-a8c8-688ba05ebf5b)


다음은 몇몇의 테스트 케이스들이다.




이번 프로젝트를 통하여 상당히 많은 어려움을 겪었다. 분명 맞다고 생각했는데 작동이 잘 돌아가지 않아서 고민을 많이 했었고 range error를 해결하기 위하여 많은 노력을 했다. 주요적으로 유효성을 검토하는 함수에서 range 에러가 자주 발생했었는데 작동 논리를 바꾸고 range 밖으로 쉽게 벗어나지 않도록 코드를 수정을 하여 해결을 했다. 이 코드는 진짜 누구의 도움 없이 혼자서 열심히 했다고 생각했기에 결과값이 잘 나오는 것을 보았을때 아주 뿌듯했다.
